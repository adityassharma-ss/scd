from dotenv import load_dotenv
import os
import openai

class Config:
    def __init__(self):
        # Load environment variables from .env file
        load_dotenv()

        # Get OpenAI API key from environment
        self.openai_api_key = os.getenv('OPENAI_API_KEY')
        self._validate_openai_key()

        # Initialize OpenAI API
        self._initialize_openai_api()

    def _validate_openai_key(self):
        """Ensure that OpenAI API key exists."""
        if not self.openai_api_key:
            raise ValueError("OpenAI API key is missing! Please set it in the .env file or environment variables.")

    def _initialize_openai_api(self):
        """Initialize OpenAI with the API key."""
        openai.api_key = self.openai_api_key

    def get_openai_api_key(self):
        """Optionally provide a way to get the OpenAI API key."""
        return self.openai_api_key

# Initialize Config
config = Config()
